(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["formLoad"],{

/***/ "./app/Resources/assets/js/formLoad.js":
/*!*********************************************!*\
  !*** ./app/Resources/assets/js/formLoad.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function Reveal(size, origin) {
  var el = document.createElement('div');
  el.className = "reveal " + size;
  el.setAttribute("data-reveal", "");
  el.setAttribute("role", "dialog");
  el.setAttribute("data-options", "closeOnClick:false;");
  el.revealobject = this;
  el.innerHTML = '';
  this.origin = origin;
  this.el = document.body.appendChild(el);
  eventListeners(this.el);
  $(this.el).on('closed.zf.reveal', function (event, large) {
    $(this).closest('div.reveal-overlay').remove();
    return false;
  });
  $(this.el).on('closeme.zf.reveal', function (event, large) {
    return false;
  });
}

function eventListeners(scope) {
  scope = scope || document;
  var dateFormat = 'dd-mm-yy';
  var datepickerSettings = {
    dateFormat: dateFormat,
    showWeek: true,
    numberOfMonths: 1,
    prevText: ' ',
    nextText: ' ',
    weekHeader: ' ',
    firstDay: 1,
    dayNames: ['Zondag', 'Mandaag', 'Dinsdag', 'Woensdag', 'Donderdag', 'Vrijdag', 'Zaterdag'],
    dayNamesMin: ['Zo', 'Ma', 'Di', 'Wo', 'Do', 'Vr', 'Za'],
    monthNames: ['Januari', 'Februari', 'Maart', 'April', 'Mei', 'Juni', 'Juli', 'Augustus', 'September', 'Oktober', 'November', 'December'],
    monthNamesShort: ['Jan', 'Feb', 'Mar', 'Apr', 'Maj', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dec'],
    beforeShow: function beforeShow(input, inst) {
      $('#ui-datepicker-div').addClass('standalone-datepicker');
    }
  }; // $('.datepicker', scope).datepicker(datepickerSettings);
  // $(".datepickerfrom", scope).datepicker(datepickerSettings)
  //     .on( "change", function() {
  //         $('#' + this.id.slice(0, -4) + 'till').datepicker( "option", "minDate", getDate( this ) )
  //     } )
  // $(".datepickertill", scope).datepicker(datepickerSettings)
  //     .on( "change", function() {
  //         $('#' + this.id.slice(0, -4) + 'from').datepicker( "option", "maxDate", getDate( this ) )
  //     } )

  function getDate(element) {
    try {
      return $.datepicker.parseDate(dateFormat, element.value);
    } catch (error) {
      return null;
    }
  }

  $(scope, '.priceCalc').on('change', function (e) {
    calculateInvoicePrice(e.target);
  });
  $('.select2entity').select2entity();
  $('.submit-reveal').on('click', function (e) {
    e.preventDefault();
    $(this).closest('form').submit();
    $(this).closest('div.reveal-overlay').remove();
  });
}

window.Reveal = Reveal;
$(document).ready(function () {
  var pathTouchMoved = false;
  $('body').on('click touchend', '[data-path]', function (e) {
    if (pathTouchMoved != true) {
      e.preventDefault();
      $(this).disabled = true;
      var path = $(this).attr("data-path"); //if (path[0] !== '/')
      //    Routing.generate(path);
      //console.log(path);

      var size = $(this).attr("data-reveal-size");
      var origin = this;
      var reveal = new Reveal(size ? size : 'large', origin);
      var elementToOpen = $(this).attr("data-open-element");
      $.ajax({
        type: 'GET',
        url: path,
        success: function success(data) {
          $(reveal.el).foundation();
          $(reveal.el).html(data).foundation('open');
          $('> div', reveal.el).foundation();
          changeFormResult();
          eventListeners();

          if (elementToOpen) {
            $(elementToOpen).select2('open');
          } else {
            // focus first visible field in form
            $('form').find('*').filter(':input:visible:first').focus();
          }
        }
      });
    }
  }).on('touchmove', function (e) {
    pathTouchMoved = true;
  }).on('touchstart', function () {
    pathTouchMoved = false;
  });
});
console.log("formLoad loaded");

/***/ }),

/***/ 0:
/*!***************************************************!*\
  !*** multi ./app/Resources/assets/js/formLoad.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! ./app/Resources/assets/js/formLoad.js */"./app/Resources/assets/js/formLoad.js");


/***/ })

},[[0,"runtime"]]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvUmVzb3VyY2VzL2Fzc2V0cy9qcy9mb3JtTG9hZC5qcyJdLCJuYW1lcyI6WyJSZXZlYWwiLCJzaXplIiwib3JpZ2luIiwiZWwiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJzZXRBdHRyaWJ1dGUiLCJyZXZlYWxvYmplY3QiLCJpbm5lckhUTUwiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJldmVudExpc3RlbmVycyIsIiQiLCJvbiIsImV2ZW50IiwibGFyZ2UiLCJjbG9zZXN0IiwicmVtb3ZlIiwic2NvcGUiLCJkYXRlRm9ybWF0IiwiZGF0ZXBpY2tlclNldHRpbmdzIiwic2hvd1dlZWsiLCJudW1iZXJPZk1vbnRocyIsInByZXZUZXh0IiwibmV4dFRleHQiLCJ3ZWVrSGVhZGVyIiwiZmlyc3REYXkiLCJkYXlOYW1lcyIsImRheU5hbWVzTWluIiwibW9udGhOYW1lcyIsIm1vbnRoTmFtZXNTaG9ydCIsImJlZm9yZVNob3ciLCJpbnB1dCIsImluc3QiLCJhZGRDbGFzcyIsImdldERhdGUiLCJlbGVtZW50IiwiZGF0ZXBpY2tlciIsInBhcnNlRGF0ZSIsInZhbHVlIiwiZXJyb3IiLCJlIiwiY2FsY3VsYXRlSW52b2ljZVByaWNlIiwidGFyZ2V0Iiwic2VsZWN0MmVudGl0eSIsInByZXZlbnREZWZhdWx0Iiwic3VibWl0Iiwid2luZG93IiwicmVhZHkiLCJwYXRoVG91Y2hNb3ZlZCIsImRpc2FibGVkIiwicGF0aCIsImF0dHIiLCJyZXZlYWwiLCJlbGVtZW50VG9PcGVuIiwiYWpheCIsInR5cGUiLCJ1cmwiLCJzdWNjZXNzIiwiZGF0YSIsImZvdW5kYXRpb24iLCJodG1sIiwiY2hhbmdlRm9ybVJlc3VsdCIsInNlbGVjdDIiLCJmaW5kIiwiZmlsdGVyIiwiZm9jdXMiLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxTQUFTQSxNQUFULENBQWdCQyxJQUFoQixFQUFzQkMsTUFB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QUMxQlEsa0JBQWMsR0FBRyxJQUFqQjtBQUNILEdBM0NELEVBMkNHcEMsRUEzQ0gsQ0EyQ00sWUEzQ04sRUEyQ29CLFlBQVU7QUFDMUJvQyxrQkFBYyxHQUFHLEtBQWpCO0FBQ0gsR0E3Q0Q7QUErQ1AsQ0FsREQ7QUFvRElrQixPQUFPLENBQUNDLEdBQVIsQ0FBWSxpQkFBWixFIiwiZmlsZSI6ImZvcm1Mb2FkLjk0ZDg1YjVlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gUmV2ZWFsKHNpemUsIG9yaWdpbikge1xuICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGVsLmNsYXNzTmFtZSA9IFwicmV2ZWFsIFwiICsgc2l6ZTtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXJldmVhbFwiLCBcIlwiKTtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwiZGlhbG9nXCIpO1xuICAgIGVsLnNldEF0dHJpYnV0ZShcImRhdGEtb3B0aW9uc1wiLCBcImNsb3NlT25DbGljazpmYWxzZTtcIik7XG4gICAgZWwucmV2ZWFsb2JqZWN0ID0gdGhpcztcbiAgICBlbC5pbm5lckhUTUwgPSAnJztcbiAgICB0aGlzLm9yaWdpbiA9IG9yaWdpbjtcbiAgICB0aGlzLmVsID0gZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbCk7XG4gICAgZXZlbnRMaXN0ZW5lcnModGhpcy5lbCk7XG4gICAgJCh0aGlzLmVsKS5vbignY2xvc2VkLnpmLnJldmVhbCcsIGZ1bmN0aW9uKGV2ZW50LCBsYXJnZSkge1xuICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJ2Rpdi5yZXZlYWwtb3ZlcmxheScpLnJlbW92ZSgpO1xuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbiAgICAkKHRoaXMuZWwpLm9uKCdjbG9zZW1lLnpmLnJldmVhbCcsIGZ1bmN0aW9uKGV2ZW50LCBsYXJnZSkge1xuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZXZlbnRMaXN0ZW5lcnMoc2NvcGUpIHtcbiAgICBzY29wZSA9IHNjb3BlIHx8IGRvY3VtZW50O1xuICAgIHZhciBkYXRlRm9ybWF0ID0gJ2RkLW1tLXl5JztcbiAgICB2YXIgZGF0ZXBpY2tlclNldHRpbmdzID0ge1xuICAgICAgICBkYXRlRm9ybWF0OiBkYXRlRm9ybWF0LFxuXG4gICAgICAgIHNob3dXZWVrOiB0cnVlLFxuICAgICAgICBudW1iZXJPZk1vbnRoczogMSxcbiAgICAgICAgcHJldlRleHQ6ICcgJyxcbiAgICAgICAgbmV4dFRleHQ6ICcgJyxcbiAgICAgICAgd2Vla0hlYWRlcjogJyAnLFxuICAgICAgICBmaXJzdERheTogMSxcbiAgICAgICAgZGF5TmFtZXM6IFsgJ1pvbmRhZycsICdNYW5kYWFnJywgJ0RpbnNkYWcnLCAnV29lbnNkYWcnLCAnRG9uZGVyZGFnJywgJ1ZyaWpkYWcnLCAnWmF0ZXJkYWcnIF0sXG4gICAgICAgIGRheU5hbWVzTWluOiBbICdabycsICdNYScsICdEaScsICdXbycsICdEbycsICdWcicsICdaYScgXSxcbiAgICAgICAgbW9udGhOYW1lczogWyAnSmFudWFyaScsICdGZWJydWFyaScsICdNYWFydCcsICdBcHJpbCcsICdNZWknLCAnSnVuaScsICdKdWxpJywgJ0F1Z3VzdHVzJywgJ1NlcHRlbWJlcicsICdPa3RvYmVyJywgJ05vdmVtYmVyJywgJ0RlY2VtYmVyJyBdLFxuICAgICAgICBtb250aE5hbWVzU2hvcnQ6IFsgJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYWonLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJywgJ09rdCcsICdOb3YnLCAnRGVjJyBdLFxuICAgICAgICBiZWZvcmVTaG93OiBmdW5jdGlvbihpbnB1dCwgaW5zdCkge1xuICAgICAgICAgICAgJCgnI3VpLWRhdGVwaWNrZXItZGl2JykuYWRkQ2xhc3MoJ3N0YW5kYWxvbmUtZGF0ZXBpY2tlcicpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyAkKCcuZGF0ZXBpY2tlcicsIHNjb3BlKS5kYXRlcGlja2VyKGRhdGVwaWNrZXJTZXR0aW5ncyk7XG4gICAgLy8gJChcIi5kYXRlcGlja2VyZnJvbVwiLCBzY29wZSkuZGF0ZXBpY2tlcihkYXRlcGlja2VyU2V0dGluZ3MpXG4gICAgLy8gICAgIC5vbiggXCJjaGFuZ2VcIiwgZnVuY3Rpb24oKSB7XG4gICAgLy8gICAgICAgICAkKCcjJyArIHRoaXMuaWQuc2xpY2UoMCwgLTQpICsgJ3RpbGwnKS5kYXRlcGlja2VyKCBcIm9wdGlvblwiLCBcIm1pbkRhdGVcIiwgZ2V0RGF0ZSggdGhpcyApIClcbiAgICAvLyAgICAgfSApXG4gICAgLy8gJChcIi5kYXRlcGlja2VydGlsbFwiLCBzY29wZSkuZGF0ZXBpY2tlcihkYXRlcGlja2VyU2V0dGluZ3MpXG4gICAgLy8gICAgIC5vbiggXCJjaGFuZ2VcIiwgZnVuY3Rpb24oKSB7XG4gICAgLy8gICAgICAgICAkKCcjJyArIHRoaXMuaWQuc2xpY2UoMCwgLTQpICsgJ2Zyb20nKS5kYXRlcGlja2VyKCBcIm9wdGlvblwiLCBcIm1heERhdGVcIiwgZ2V0RGF0ZSggdGhpcyApIClcbiAgICAvLyAgICAgfSApXG5cbiAgICBmdW5jdGlvbiBnZXREYXRlKCBlbGVtZW50ICkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuICQuZGF0ZXBpY2tlci5wYXJzZURhdGUoIGRhdGVGb3JtYXQsIGVsZW1lbnQudmFsdWUgKTtcbiAgICAgICAgfSBjYXRjaCggZXJyb3IgKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAkKHNjb3BlLCAnLnByaWNlQ2FsYycpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGNhbGN1bGF0ZUludm9pY2VQcmljZShlLnRhcmdldCk7XG4gICAgfSk7XG4gICAgJCgnLnNlbGVjdDJlbnRpdHknKS5zZWxlY3QyZW50aXR5KCk7XG4gICAgJCgnLnN1Ym1pdC1yZXZlYWwnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCdmb3JtJykuc3VibWl0KCk7XG4gICAgICAgICQodGhpcykuY2xvc2VzdCgnZGl2LnJldmVhbC1vdmVybGF5JykucmVtb3ZlKCk7XG4gICAgfSk7XG59XG5cblxud2luZG93LlJldmVhbCA9IFJldmVhbFxuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuXG4gICAgdmFyIHBhdGhUb3VjaE1vdmVkID0gZmFsc2U7XG4gICAgICAgICQoJ2JvZHknKS5vbignY2xpY2sgdG91Y2hlbmQnLCAnW2RhdGEtcGF0aF0nLCBmdW5jdGlvbihlKSB7XG5cbiAgICAgICAgICAgIGlmIChwYXRoVG91Y2hNb3ZlZCAhPSB0cnVlKSB7XG5cbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICAkKHRoaXMpLmRpc2FibGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHZhciBwYXRoID0gJCh0aGlzKS5hdHRyKFwiZGF0YS1wYXRoXCIpO1xuICAgICAgICAgICAgICAgIC8vaWYgKHBhdGhbMF0gIT09ICcvJylcbiAgICAgICAgICAgICAgICAvLyAgICBSb3V0aW5nLmdlbmVyYXRlKHBhdGgpO1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2cocGF0aCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9ICQodGhpcykuYXR0cihcImRhdGEtcmV2ZWFsLXNpemVcIik7XG4gICAgICAgICAgICAgICAgdmFyIG9yaWdpbiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB2YXIgcmV2ZWFsID0gbmV3IFJldmVhbChzaXplID8gc2l6ZSA6ICdsYXJnZScsIG9yaWdpbik7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRUb09wZW4gPSAkKHRoaXMpLmF0dHIoXCJkYXRhLW9wZW4tZWxlbWVudFwiKTtcblxuICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IHBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJChyZXZlYWwuZWwpLmZvdW5kYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQocmV2ZWFsLmVsKS5odG1sKGRhdGEpLmZvdW5kYXRpb24oJ29wZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJz4gZGl2JywgcmV2ZWFsLmVsKS5mb3VuZGF0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZUZvcm1SZXN1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50VG9PcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChlbGVtZW50VG9PcGVuKS5zZWxlY3QyKCdvcGVuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmb2N1cyBmaXJzdCB2aXNpYmxlIGZpZWxkIGluIGZvcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdmb3JtJykuZmluZCgnKicpLmZpbHRlcignOmlucHV0OnZpc2libGU6Zmlyc3QnKS5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLm9uKCd0b3VjaG1vdmUnLCBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgIHBhdGhUb3VjaE1vdmVkID0gdHJ1ZTtcbiAgICAgICAgfSkub24oJ3RvdWNoc3RhcnQnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcGF0aFRvdWNoTW92ZWQgPSBmYWxzZTtcbiAgICAgICAgfSk7XG5cbn0pO1xuXG4gICAgY29uc29sZS5sb2coXCJmb3JtTG9hZCBsb2FkZWRcIik7Il0sInNvdXJjZVJvb3QiOiIifQ==