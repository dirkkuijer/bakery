(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["formLoad"],{

/***/ "./app/Resources/assets/js/formLoad.js":
/*!*********************************************!*\
  !*** ./app/Resources/assets/js/formLoad.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function Reveal(size, origin) {
  var el = document.createElement('div');
  el.className = "reveal " + size;
  el.setAttribute("data-reveal", "");
  el.setAttribute("role", "dialog");
  el.setAttribute("data-options", "closeOnClick:false;");
  el.revealobject = this;
  el.innerHTML = '';
  this.origin = origin;
  this.el = document.body.appendChild(el);
  eventListeners(this.el);
  $(this.el).on('closed.zf.reveal', function (event, large) {
    $(this).closest('div.reveal-overlay').remove();
    return false;
  });
  $(this.el).on('closeme.zf.reveal', function (event, large) {
    return false;
  });
}

function eventListeners(scope) {
  scope = scope || document;
  var dateFormat = 'dd-mm-yy';
  var datepickerSettings = {
    dateFormat: dateFormat,
    showWeek: true,
    numberOfMonths: 1,
    prevText: ' ',
    nextText: ' ',
    weekHeader: ' ',
    firstDay: 1,
    dayNames: ['Zondag', 'Mandaag', 'Dinsdag', 'Woensdag', 'Donderdag', 'Vrijdag', 'Zaterdag'],
    dayNamesMin: ['Zo', 'Ma', 'Di', 'Wo', 'Do', 'Vr', 'Za'],
    monthNames: ['Januari', 'Februari', 'Maart', 'April', 'Mei', 'Juni', 'Juli', 'Augustus', 'September', 'Oktober', 'November', 'December'],
    monthNamesShort: ['Jan', 'Feb', 'Mar', 'Apr', 'Maj', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dec'],
    beforeShow: function beforeShow(input, inst) {
      $('#ui-datepicker-div').addClass('standalone-datepicker');
    }
  };
  $('.datepicker', scope).datepicker(datepickerSettings);
  $(".datepickerfrom", scope).datepicker(datepickerSettings).on("change", function () {
    $('#' + this.id.slice(0, -4) + 'till').datepicker("option", "minDate", getDate(this));
  });
  $(".datepickertill", scope).datepicker(datepickerSettings).on("change", function () {
    $('#' + this.id.slice(0, -4) + 'from').datepicker("option", "maxDate", getDate(this));
  });

  function getDate(element) {
    try {
      return $.datepicker.parseDate(dateFormat, element.value);
    } catch (error) {
      return null;
    }
  }

  $(scope, '.priceCalc').on('change', function (e) {
    calculateInvoicePrice(e.target);
  });
  $('.select2entity').select2entity();
  $('.submit-reveal').on('click', function (e) {
    e.preventDefault();
    $(this).closest('form').submit();
    $(this).closest('div.reveal-overlay').remove();
  });
}

window.Reveal = Reveal;
$(document).ready(function () {
  var pathTouchMoved = false;
  $('body').on('click touchend', '[data-path]', function (e) {
    if (pathTouchMoved != true) {
      e.preventDefault();
      $(this).disabled = true;
      var path = $(this).attr("data-path"); //if (path[0] !== '/')
      //    Routing.generate(path);
      //console.log(path);

      var size = $(this).attr("data-reveal-size");
      var origin = this;
      var reveal = new Reveal(size ? size : 'large', origin);
      var elementToOpen = $(this).attr("data-open-element");
      $.ajax({
        type: 'GET',
        url: path,
        success: function success(data) {
          $(reveal.el).foundation();
          $(reveal.el).html(data).foundation('open');
          $('> div', reveal.el).foundation();
          changeFormResult();
          eventListeners();

          if (elementToOpen) {
            $(elementToOpen).select2('open');
          } else {
            // focus first visible field in form
            $('form').find('*').filter(':input:visible:first').focus();
          }
        }
      });
    }
  }).on('touchmove', function (e) {
    pathTouchMoved = true;
  }).on('touchstart', function () {
    pathTouchMoved = false;
  });
});
console.log("formLoad loaded");

/***/ }),

/***/ 0:
/*!***************************************************!*\
  !*** multi ./app/Resources/assets/js/formLoad.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! ./app/Resources/assets/js/formLoad.js */"./app/Resources/assets/js/formLoad.js");


/***/ })

},[[0,"runtime"]]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvUmVzb3VyY2VzL2Fzc2V0cy9qcy9mb3JtTG9hZC5qcyJdLCJuYW1lcyI6WyJSZXZlYWwiLCJzaXplIiwib3JpZ2luIiwiZWwiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJzZXRBdHRyaWJ1dGUiLCJyZXZlYWxvYmplY3QiLCJpbm5lckhUTUwiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJldmVudExpc3RlbmVycyIsIiQiLCJvbiIsImV2ZW50IiwibGFyZ2UiLCJjbG9zZXN0IiwicmVtb3ZlIiwic2NvcGUiLCJkYXRlRm9ybWF0IiwiZGF0ZXBpY2tlclNldHRpbmdzIiwic2hvd1dlZWsiLCJudW1iZXJPZk1vbnRocyIsInByZXZUZXh0IiwibmV4dFRleHQiLCJ3ZWVrSGVhZGVyIiwiZmlyc3REYXkiLCJkYXlOYW1lcyIsImRheU5hbWVzTWluIiwibW9udGhOYW1lcyIsIm1vbnRoTmFtZXNTaG9ydCIsImJlZm9yZVNob3ciLCJpbnB1dCIsImluc3QiLCJhZGRDbGFzcyIsImRhdGVwaWNrZXIiLCJpZCIsInNsaWNlIiwiZ2V0RGF0ZSIsImVsZW1lbnQiLCJwYXJzZURhdGUiLCJ2YWx1ZSIsImVycm9yIiwiZSIsImNhbGN1bGF0ZUludm9pY2VQcmljZSIsInRhcmdldCIsInNlbGVjdDJlbnRpdHkiLCJwcmV2ZW50RGVmYXVsdCIsInN1Ym1pdCIsIndpbmRvdyIsInJlYWR5IiwicGF0aFRvdWNoTW92ZWQiLCJkaXNhYmxlZCIsInBhdGgiLCJhdHRyIiwicmV2ZWFsIiwiZWxlbWVudFRvT3BlbiIsImFqYXgiLCJ0eXBlIiwidXJsIiwic3VjY2VzcyIsImRhdGEiLCJmb3VuZGF0aW9uIiwiaHRtbCIsImNoYW5nZUZvcm1SZXN1bHQiLCJzZWxlY3QyIiwiZmluZCIsImZpbHRlciIsImZvY3VzIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsU0FBU0EsTUFBVCxDQUFnQkMsSUFB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QUFFSEMsV0FBRyxFQUFFTixJQUZGO0FBR0hPLGVBQU8sRUFBRSxpQkFBU0MsSUFBVCxFQUFlO0FBRXBCakQsV0FBQyxDQUFDMkMsTUFBTSxDQUFDckQsRUFBUixDQUFELENBQWE0RCxVQUFiO0FBQ0FsRCxXQUFDLENBQUMyQyxNQUFNLENBQUNyRCxFQUFSLENBQUQsQ0FBYTZELElBQWIsQ0FBa0JGLElBQWxCLEVBQXdCQyxVQUF4QixDQUFtQyxNQUFuQztBQUNBbEQsV0FBQyxDQUFDLE9BQUQsRUFBVTJDLE1BQU0sQ0FBQ3JELEVBQWpCLENBQUQsQ0FBc0I0RCxVQUF0QjtBQUVBRSwwQkFBZ0I7QUFDaEJyRCx3QkFBYzs7QUFFZCxjQUFJNkMsYUFBSixFQUFtQjtBQUNmNUMsYUFBQyxDQUFDNEMsYUFBRCxDQUFELENBQWlCUyxPQUFqQixDQUF5QixNQUF6QjtBQUNILFdBRkQsTUFHSztBQUNEO0FBQ0FyRCxhQUFDLENBQUMsTUFBRCxDQUFELENBQVVzRCxJQUFWLENBQWUsR0FBZixFQUFvQkMsTUFBcEIsQ0FBMkIsc0JBQTNCLEVBQW1EQyxLQUFuRDtBQUNIO0FBQ0o7QUFuQkUsT0FBUDtBQXFCSDtBQUNKLEdBekNELEVBeUNHdkQsRUF6Q0gsQ0F5Q00sV0F6Q04sRUF5Q21CLFVBQVM4QixDQUFULEVBQVc7QUFDMUJRLGtCQUFjLEdBQUcsSUFBakI7QUFDSCxHQTNDRCxFQTJDR3RDLEVBM0NILENBMkNNLFlBM0NOLEVBMkNvQixZQUFVO0FBQzFCc0Msa0JBQWMsR0FBRyxLQUFqQjtBQUNILEdBN0NEO0FBK0NQLENBbEREO0FBb0RJa0IsT0FBTyxDQUFDQyxHQUFSLENBQVksaUJBQVosRSIsImZpbGUiOiJmb3JtTG9hZC44N2QyMzcxZC5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIFJldmVhbChzaXplLCBvcmlnaW4pIHtcbiAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBlbC5jbGFzc05hbWUgPSBcInJldmVhbCBcIiArIHNpemU7XG4gICAgZWwuc2V0QXR0cmlidXRlKFwiZGF0YS1yZXZlYWxcIiwgXCJcIik7XG4gICAgZWwuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcImRpYWxvZ1wiKTtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoXCJkYXRhLW9wdGlvbnNcIiwgXCJjbG9zZU9uQ2xpY2s6ZmFsc2U7XCIpO1xuICAgIGVsLnJldmVhbG9iamVjdCA9IHRoaXM7XG4gICAgZWwuaW5uZXJIVE1MID0gJyc7XG4gICAgdGhpcy5vcmlnaW4gPSBvcmlnaW47XG4gICAgdGhpcy5lbCA9IGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWwpO1xuICAgIGV2ZW50TGlzdGVuZXJzKHRoaXMuZWwpO1xuICAgICQodGhpcy5lbCkub24oJ2Nsb3NlZC56Zi5yZXZlYWwnLCBmdW5jdGlvbihldmVudCwgbGFyZ2UpIHtcbiAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCdkaXYucmV2ZWFsLW92ZXJsYXknKS5yZW1vdmUoKTtcblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG4gICAgJCh0aGlzLmVsKS5vbignY2xvc2VtZS56Zi5yZXZlYWwnLCBmdW5jdGlvbihldmVudCwgbGFyZ2UpIHtcblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGV2ZW50TGlzdGVuZXJzKHNjb3BlKSB7XG4gICAgc2NvcGUgPSBzY29wZSB8fCBkb2N1bWVudDtcbiAgICB2YXIgZGF0ZUZvcm1hdCA9ICdkZC1tbS15eSc7XG4gICAgdmFyIGRhdGVwaWNrZXJTZXR0aW5ncyA9IHtcbiAgICAgICAgZGF0ZUZvcm1hdDogZGF0ZUZvcm1hdCxcblxuICAgICAgICBzaG93V2VlazogdHJ1ZSxcbiAgICAgICAgbnVtYmVyT2ZNb250aHM6IDEsXG4gICAgICAgIHByZXZUZXh0OiAnICcsXG4gICAgICAgIG5leHRUZXh0OiAnICcsXG4gICAgICAgIHdlZWtIZWFkZXI6ICcgJyxcbiAgICAgICAgZmlyc3REYXk6IDEsXG4gICAgICAgIGRheU5hbWVzOiBbICdab25kYWcnLCAnTWFuZGFhZycsICdEaW5zZGFnJywgJ1dvZW5zZGFnJywgJ0RvbmRlcmRhZycsICdWcmlqZGFnJywgJ1phdGVyZGFnJyBdLFxuICAgICAgICBkYXlOYW1lc01pbjogWyAnWm8nLCAnTWEnLCAnRGknLCAnV28nLCAnRG8nLCAnVnInLCAnWmEnIF0sXG4gICAgICAgIG1vbnRoTmFtZXM6IFsgJ0phbnVhcmknLCAnRmVicnVhcmknLCAnTWFhcnQnLCAnQXByaWwnLCAnTWVpJywgJ0p1bmknLCAnSnVsaScsICdBdWd1c3R1cycsICdTZXB0ZW1iZXInLCAnT2t0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlcicgXSxcbiAgICAgICAgbW9udGhOYW1lc1Nob3J0OiBbICdKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWFqJywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsICdPa3QnLCAnTm92JywgJ0RlYycgXSxcbiAgICAgICAgYmVmb3JlU2hvdzogZnVuY3Rpb24oaW5wdXQsIGluc3QpIHtcbiAgICAgICAgICAgICQoJyN1aS1kYXRlcGlja2VyLWRpdicpLmFkZENsYXNzKCdzdGFuZGFsb25lLWRhdGVwaWNrZXInKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgJCgnLmRhdGVwaWNrZXInLCBzY29wZSkuZGF0ZXBpY2tlcihkYXRlcGlja2VyU2V0dGluZ3MpO1xuICAgICQoXCIuZGF0ZXBpY2tlcmZyb21cIiwgc2NvcGUpLmRhdGVwaWNrZXIoZGF0ZXBpY2tlclNldHRpbmdzKVxuICAgICAgICAub24oIFwiY2hhbmdlXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCgnIycgKyB0aGlzLmlkLnNsaWNlKDAsIC00KSArICd0aWxsJykuZGF0ZXBpY2tlciggXCJvcHRpb25cIiwgXCJtaW5EYXRlXCIsIGdldERhdGUoIHRoaXMgKSApXG4gICAgICAgIH0gKVxuICAgICQoXCIuZGF0ZXBpY2tlcnRpbGxcIiwgc2NvcGUpLmRhdGVwaWNrZXIoZGF0ZXBpY2tlclNldHRpbmdzKVxuICAgICAgICAub24oIFwiY2hhbmdlXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCgnIycgKyB0aGlzLmlkLnNsaWNlKDAsIC00KSArICdmcm9tJykuZGF0ZXBpY2tlciggXCJvcHRpb25cIiwgXCJtYXhEYXRlXCIsIGdldERhdGUoIHRoaXMgKSApXG4gICAgICAgIH0gKVxuXG4gICAgZnVuY3Rpb24gZ2V0RGF0ZSggZWxlbWVudCApIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiAkLmRhdGVwaWNrZXIucGFyc2VEYXRlKCBkYXRlRm9ybWF0LCBlbGVtZW50LnZhbHVlICk7XG4gICAgICAgIH0gY2F0Y2goIGVycm9yICkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgJChzY29wZSwgJy5wcmljZUNhbGMnKS5vbignY2hhbmdlJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBjYWxjdWxhdGVJbnZvaWNlUHJpY2UoZS50YXJnZXQpO1xuICAgIH0pO1xuICAgICQoJy5zZWxlY3QyZW50aXR5Jykuc2VsZWN0MmVudGl0eSgpO1xuICAgICQoJy5zdWJtaXQtcmV2ZWFsJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICQodGhpcykuY2xvc2VzdCgnZm9ybScpLnN1Ym1pdCgpO1xuICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJ2Rpdi5yZXZlYWwtb3ZlcmxheScpLnJlbW92ZSgpO1xuICAgIH0pO1xufVxuXG5cbndpbmRvdy5SZXZlYWwgPSBSZXZlYWxcblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcblxuICAgIHZhciBwYXRoVG91Y2hNb3ZlZCA9IGZhbHNlO1xuICAgICAgICAkKCdib2R5Jykub24oJ2NsaWNrIHRvdWNoZW5kJywgJ1tkYXRhLXBhdGhdJywgZnVuY3Rpb24oZSkge1xuXG4gICAgICAgICAgICBpZiAocGF0aFRvdWNoTW92ZWQgIT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5kaXNhYmxlZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICB2YXIgcGF0aCA9ICQodGhpcykuYXR0cihcImRhdGEtcGF0aFwiKTtcbiAgICAgICAgICAgICAgICAvL2lmIChwYXRoWzBdICE9PSAnLycpXG4gICAgICAgICAgICAgICAgLy8gICAgUm91dGluZy5nZW5lcmF0ZShwYXRoKTtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHBhdGgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSAkKHRoaXMpLmF0dHIoXCJkYXRhLXJldmVhbC1zaXplXCIpO1xuICAgICAgICAgICAgICAgIHZhciBvcmlnaW4gPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdmFyIHJldmVhbCA9IG5ldyBSZXZlYWwoc2l6ZSA/IHNpemUgOiAnbGFyZ2UnLCBvcmlnaW4pO1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50VG9PcGVuID0gJCh0aGlzKS5hdHRyKFwiZGF0YS1vcGVuLWVsZW1lbnRcIik7XG5cbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBwYXRoLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQocmV2ZWFsLmVsKS5mb3VuZGF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHJldmVhbC5lbCkuaHRtbChkYXRhKS5mb3VuZGF0aW9uKCdvcGVuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCc+IGRpdicsIHJldmVhbC5lbCkuZm91bmRhdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VGb3JtUmVzdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudExpc3RlbmVycygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudFRvT3Blbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoZWxlbWVudFRvT3Blbikuc2VsZWN0Mignb3BlbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9jdXMgZmlyc3QgdmlzaWJsZSBmaWVsZCBpbiBmb3JtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnZm9ybScpLmZpbmQoJyonKS5maWx0ZXIoJzppbnB1dDp2aXNpYmxlOmZpcnN0JykuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5vbigndG91Y2htb3ZlJywgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICBwYXRoVG91Y2hNb3ZlZCA9IHRydWU7XG4gICAgICAgIH0pLm9uKCd0b3VjaHN0YXJ0JywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHBhdGhUb3VjaE1vdmVkID0gZmFsc2U7XG4gICAgICAgIH0pO1xuXG59KTtcblxuICAgIGNvbnNvbGUubG9nKFwiZm9ybUxvYWQgbG9hZGVkXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=