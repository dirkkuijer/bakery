{% extends 'base.html.twig' %}

{% block stylesheet %}
    {{ parent() }}
{% endblock %}

 {% block javascript %}
        {{ parent() }}
{% endblock %}

{% block body %}

    <div class="grid-x grid-padding-x">
        <div class="cell medium-10"></div>
        <div class="cell medium-2">
            <a class="button" href="{{ path('invoice_index') }}">Overzicht</a>
        </div>
    </div>
    {% if is_granted('ROLE_ADMIN') %}
  
    <h4>Factuur</h4>

    <br> 
    
        <div class="grid-x grid-padding-x">
            <div class="cell medium-2"></div>
            <div class="cell medium-4">
                Voornaam            
            </div>
            <div class="cell medium-6">
                {{ invoice.firstname }}
            </div>
        </div>
        <div class="grid-x grid-padding-x">
            <div class="cell medium-2"></div>
            <div class="cell medium-4">
                Achternaam            
            </div>
            <div class="cell medium-6">
                {{ invoice.lastName }}
            </div>
        </div>
        <div class="grid-x grid-padding-x">
            <div class="cell medium-2"></div>
            <div class="cell medium-4">
                Datum
            </div>
            <div class="cell medium-6">
                {# {% if invoice.date %}{{ invoice.date|date('d-m-Y') }}{% endif %} #}
                {% if invoice.date %}{{ invoice.date|localizeddate('short', 'none', 'locale') }}{% endif %}
            </div>
        </div>
        <div class="grid-x grid-padding-x">
            <div class="cell medium-2"></div>
            <div class="cell medium-4">
                Omschrijving
            </div>
            <div class="cell medium-6">
                {{ invoice.description }}
            </div>
        </div>
        <div class="grid-x grid-padding-x">
            <div class="cell medium-2"></div>
            <div class="cell medium-4">
                    Factuurnummer
            </div>
            <div class="cell medium-6">
                {{ invoice.invoiceNumber }}
            </div>
        </div>
        <div class="grid-x grid-padding-x">
            <div class="cell medium-2"></div>
            <div class="cell medium-4">
                    Bedrag
            </div>
            <div class="cell medium-6">
                {{ invoice.amount|localizedcurrency('EUR')  }}
            </div>
        </div>
        {# <div class="grid-x grid-padding-x">
            <div class="cell medium-2"></div>
            <div class="cell medium-4">
                    Bedrag incl. BTW
            </div>
            <div class="cell medium-6">
                {{ invoice.amountWithVat }}
            </div>
        </div> #}
        <div class="grid-x grid-padding-x">
            <div class="cell medium-2"></div>
            <div class="cell medium-4">
                BTW-bedrag
            </div>
            <div class="cell medium-6">
                {{ invoice.vatAmount|localizedcurrency('EUR')  }}
            </div>
        </div>
        <div class="grid-x grid-padding-x">
            <div class="cell medium-2"></div>
            <div class="cell medium-4">
                BTW-percentage
            </div>
            <div class="cell medium-6">
                {{ invoice.vatPercentage|number_format(2, ',' ,'.') }} %
            </div>
        </div>
        <div class="grid-x grid-padding-x">
            <div class="cell medium-2"></div>
            <div class="cell medium-4">
                Totaal
            </div>
            <div class="cell medium-6">
                {# {% set totalAmount = invoice.amount + ((invoice.amount / 100) * invoice.vatPercentage) %} #}
                {{ invoice.amountWithVat|localizedcurrency('EUR') }}
            </div>
        </div>
           
        <div class="grid-x grid-padding-x">
            <div class="cell small-6"></div>
            <div class="cell small-2 text-right">
                <a class="button" href="{{ path('invoice_edit', { 'id': invoice.id }) }}">Bewerken</a>
            </div>

            {{ form_start(delete_form) }}
                {#<input type="submit" class="button" value="Verwijderen" href="{{ path('invoice_delete', { 'id': invoice.id }) }}" title="Verwijderen" />#}
                    
                <button class="button" type="submit" title="Verwijderen">
                    Verwijderen
                </button> 
            {{ form_end(delete_form) }}
            
            <div class="cell small-4"></div>
        </div>
            
    {% endif %}
{% endblock %}
