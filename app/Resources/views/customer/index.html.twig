{% extends 'base.html.twig' %}

{% block body %}

    <div class="grid-x grid-padding-x">
        <div class="cell medium-10"></div>
        <div class="cell medium-2">
            <a class="button" href="{{ path('customer_new') }}">+ Nieuwe klant</a>
        </div>
    </div>

    <h4>Klanten</h4>
    
    <br>
    
    <div class="grid-x grid-padding-x">
        <div class="cell medium-12">
            
            <table class="stack">
                <thead>
                    <tr>
                        <th>Voornaam</th>
                        <th>Achternaam</th>
                        <th>Straat</th>
                        <th>Huisnummer</th>
                        <th>Postcode</th>
                        <th>Woonplaats</th>
                        <th>Telefoon</th>
                        <th>E-mail</th>
                        <th>Rekening</th>
                        <th>AllergieÃ«n</th>
                        <th>Facturen</th>
                    </tr>
                </thead>
                <tbody>
                    {% for customer in customers %}
                    <tr>
                        <td>{{ customer.firstname }}</td>
                        <td>{{ customer.lastname }}</td>
                        <td>{{ customer.street }}</td>
                        <td>{{ customer.housenumber }}</td>
                        <td>{{ customer.postalcode }}</td>
                        <td>{{ customer.city }}</td>
                        <td>{{ customer.telephone }}</td>
                        <td>{{ customer.email }}</td>
                        <td>{{ customer.bankaccountNumber }}</td>
                        <td>{{ customer.allergies }}</td>
                        <td>
                            {% for invoice in invoices %}
                                {% if customer.id == invoice.customer.id %}
                                    <a class="button" href=" {{ path('invoice_show', { 'id': invoice.id }) }} ">{{ invoice.invoiceNumber|default('Geen factuur') }}</a>
                                {% endif %}
                            {% endfor %}
                            <a class="button" href="{{ path('customer_edit', { 'id': customer.id }) }}">Bewerken</a>
                        </td>
                        
                    </tr>
                </tbody>
                {% endfor %}
            </table>
        </div>
    </div>
{% endblock %}
